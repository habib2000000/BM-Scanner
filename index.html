<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-Mirror | Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø­ÙŠÙˆÙŠ Ø§Ù„Ù†Ø¬Ù…ÙŠ</title>
    
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>

    <style>
        :root { --pi-purple: #5e2d89; --stellar-blue: #08b5e5; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0f0f1f; color: white; text-align: center; margin: 0; padding: 20px; }
        .app-container { max-width: 500px; margin: auto; background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 20px; border: 1px solid var(--stellar-blue); box-shadow: 0 0 20px var(--stellar-blue); }
        .scanner-area { width: 150px; height: 150px; margin: 20px auto; border: 3px solid var(--stellar-blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.3s; position: relative; overflow: hidden; }
        .scanner-area:active { transform: scale(0.95); box-shadow: 0 0 30px white; }
        .ai-status { color: var(--stellar-blue); font-weight: bold; margin-top: 15px; min-height: 24px; }
        .result-box { margin-top: 20px; padding: 15px; background: rgba(255, 255, 255, 0.1); border-radius: 10px; display: none; }
        button { background: var(--pi-purple); color: white; border: none; padding: 12px 25px; border-radius: 25px; cursor: pointer; font-size: 16px; transition: 0.3s; }
        button:hover { opacity: 0.8; }
    </style>
</head>
<body>

    <div class="app-container">
        <h1>Bio-Mirror ğŸ¥</h1>
        <p>Ù…Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø³ÙŠØ§Ø¯Ø© Ø§Ù„ØµØ­ÙŠØ© Ø¹Ø¨Ø± Ø´Ø¨ÙƒØ© Stellar</p>

        <div class="scanner-area" id="scanBtn">
            <span>Ø¥ØµØ¨Ø¹Ùƒ Ù‡Ù†Ø§</span>
        </div>

        <div id="aiStatus" class="ai-status">Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ...</div>

        <div id="resultBox" class="result-box">
            <h3>Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ­Ù„ÙŠÙ„ (AI):</h3>
            <p id="healthStats"></p>
            <small>ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¹Ø¨Ø± Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Stellar Ø§Ù„Ù„Ø§Ù…Ø±ÙƒØ²ÙŠ</small>
        </div>

        <br>
        <button onclick="loginWithPi()">Ø±Ø¨Ø· Ù…Ø­ÙØ¸Ø© Pi</button>
    </div>

    <script>
        // 2. ØªÙ‡ÙŠØ¦Ø© Pi SDK
        const Pi = window.Pi;
        try {
            Pi.init({ version: "2.0", sandbox: true });
            console.log("Pi SDK Initialized");
        } catch (e) { console.error("Pi SDK error:", e); }

        function loginWithPi() {
            Pi.authenticate(['payments', 'username'], onIncompletePaymentFound)
                .then(function(auth) { alert("Ù…Ø±Ø­Ø¨Ø§Ù‹: " + auth.user.username); })
                .catch(function(e) { console.error(e); });
        }

        function onIncompletePaymentFound(payment) { /* Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª */ }

        // 3. ÙƒÙˆØ¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (Ù…Ø­Ø§ÙƒØ§Ø© Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Stellar Ø§Ù„Ø·ÙŠÙÙŠØ©)
        const scanBtn = document.getElementById('scanBtn');
        const aiStatus = document.getElementById('aiStatus');
        const resultBox = document.getElementById('resultBox');
        const healthStats = document.getElementById('healthStats');

        scanBtn.addEventListener('click', () => {
            aiStatus.innerText = "Ø¬Ø§Ø±ÙŠ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ØµÙÙˆÙØ© Ø§Ù„Ø·ÙŠÙÙŠØ©...";
            scanBtn.style.borderColor = "white";
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¨Ø± Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            setTimeout(() => {
                aiStatus.innerText = "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¨Ø± Ø¹Ù‚Ø¯ Stellar...";
                
                setTimeout(() => {
                    const sugar = Math.floor(Math.random() * (120 - 80) + 80);
                    const heartRate = Math.floor(Math.random() * (90 - 65) + 65);
                    const pressure = "120/80";

                    aiStatus.innerText = "Ø§ÙƒØªÙ…Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ âœ…";
                    resultBox.style.display = "block";
                    healthStats.innerHTML = `
                        Ø³ÙƒØ± Ø§Ù„Ø¯Ù…: ${sugar} mg/dL <br>
                        Ù†Ø¨Ø¶ Ø§Ù„Ù‚Ù„Ø¨: ${heartRate} BPM <br>
                        Ø¶ØºØ· Ø§Ù„Ø¯Ù…: ${pressure}
                    `;
                    scanBtn.style.borderColor = "#08b5e5";
                }, 2000);
            }, 1500);
        });
    </script>
</body>
</html>
