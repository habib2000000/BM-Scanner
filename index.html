<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-Mirror AI - Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø°ÙƒÙŠ ğŸŒ¸</title>
    
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    
    <script>
        const Pi = window.Pi;
        Pi.init({ version: "2.0" });

        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ: Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¯Ø§Ø®Ù„ Ø¨ÙŠØ¦Ø© Ø¨Ø§ÙŠØŒ ÙŠÙØªØ­ Ø§Ù„Ø¥ÙŠÙƒÙˆØ³ÙŠØ³ØªÙŠÙ… Ù…Ø¨Ø§Ø´Ø±Ø©
        if (window.location.href.includes("pinet.com") || window.location.href.includes("pi")) {
            window.location.replace("pi://bmscanner2015.pinet.com");
        }
    </script>

    <style>
        :root { --primary-color: #5e2a84; --secondary-color: #e5a93d; --flower-color: #ff69b4; }
        body { font-family: 'Segoe UI', sans-serif; background-color: #f8f9fa; margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        .app-container { width: 90%; max-width: 450px; background: white; border-radius: 25px; overflow: hidden; box-shadow: 0 15px 35px rgba(0,0,0,0.15); text-align: center; padding-bottom: 40px; border: 1px solid #eee; }
        .header { background: var(--primary-color); color: white; padding: 25px; font-size: 1.5em; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .flower-icon { color: var(--flower-color); font-size: 1.2em; }
        
        .image-container { width: 100%; background: #000; padding: 10px 0; border-bottom: 3px solid var(--secondary-color); }
        .promo-image { width: 90%; height: auto; border-radius: 12px; }
        
        .content { padding: 30px 20px; }
        .welcome-text { font-size: 1.1em; color: #444; margin-bottom: 30px; line-height: 1.7; font-weight: 500; }
        
        .ecosystem-btn { 
            background-color: var(--secondary-color); 
            color: white; 
            border: none; 
            padding: 18px 40px; 
            border-radius: 35px; 
            font-size: 1.2em; 
            font-weight: bold; 
            text-decoration: none; 
            display: inline-block;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(229, 169, 61, 0.4);
        }
        .ecosystem-btn:hover { transform: scale(1.05); }
    </style>
</head>
<body>

<div id="gatekeeper-ui" class="app-container">
    <div class="header">
        <span class="flower-icon">ğŸŒ¸</span> 
        Bio-Mirror AI 
        <span class="flower-icon">ğŸŒ¸</span>
    </div>

    <div class="image-container">
        <img src="https://habib2000000.github.io/BM-Scanner/vet-image.jpg" alt="Bio-Mirror Scan" class="promo-image">
    </div>

    <div class="content">
        <p class="welcome-text">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ù…ØªØµÙØ­ Ø¨Ø§ÙŠ (Pi Browser) Ù„ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ© ÙˆØªØ´ÙÙŠØ± Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„ØµØ­ÙŠØ©.</p>
        
        <a href="pi://bmscanner2015.pinet.com" class="ecosystem-btn">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥ÙŠÙƒÙˆØ³ÙŠØ³ØªÙŠÙ… (3.14Ï€)</a>
    </div>
</div>

<script>
    async function checkAndRedirect() {
        try {
            // ØªÙˆØ«ÙŠÙ‚ ØµØ§Ù…Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const auth = await Pi.authenticate(['username', 'payments'], function(payment){}); 
            if (auth) {
                // ØªØ­ÙˆÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙÙˆØ±ÙŠ Ù„Ù„Ù…ÙˆØ«Ù‚ÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨ÙŠØ¦Ø©
                window.location.replace("pi://bmscanner2015.pinet.com");
            }
        } catch (e) { console.log("Ø§Ù„ÙˆØµÙˆÙ„ Ù…Ù† Ù…ØªØµÙØ­ Ø®Ø§Ø±Ø¬ÙŠ"); }
    }
    checkAndRedirect();
</script>

</body>
</html>
